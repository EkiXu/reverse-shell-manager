{"version":3,"sources":["webpack:///./node_modules/core-js/internals/string-repeat.js","webpack:///./node_modules/core-js/modules/es.string.split.js","webpack:///./node_modules/core-js/modules/es.string.repeat.js","webpack:///./src/views/Listener/Index.vue?c518","webpack:///./src/components/listener/Terminal.vue?5086","webpack:///./src/views/Listener/Index.vue","webpack:///./node_modules/@ant-design/icons-svg/es/asn/SettingOutlined.js","webpack:///./node_modules/@ant-design/icons-vue/es/icons/SettingOutlined.js","webpack:///./node_modules/@ant-design/icons-svg/es/asn/MailOutlined.js","webpack:///./node_modules/@ant-design/icons-vue/es/icons/MailOutlined.js","webpack:///./src/api/listener.ts","webpack:///./src/api/beacon.ts","webpack:///./src/components/listener/Terminal.vue","webpack:///./src/typings/beacon.ts","webpack:///./src/components/listener/Terminal.vue?4f23","webpack:///./src/components/listener/Terminal.vue?6c3c","webpack:///./src/views/Listener/AddListenerModal.vue","webpack:///./node_modules/ant-design-vue/es/vc-m-feedback/src/PropTypes.js","webpack:///./node_modules/ant-design-vue/es/vc-m-feedback/src/TouchFeedback.js","webpack:///./node_modules/ant-design-vue/es/vc-m-feedback/index.js","webpack:///./node_modules/ant-design-vue/es/vc-input-number/src/InputHandler.js","webpack:///./node_modules/ant-design-vue/es/vc-input-number/src/index.js","webpack:///./node_modules/ant-design-vue/es/input-number/index.js","webpack:///./node_modules/@ant-design/icons-svg/es/asn/EditOutlined.js","webpack:///./node_modules/@ant-design/icons-vue/es/icons/EditOutlined.js","webpack:///./src/views/Listener/AddListenerModal.vue?3ded","webpack:///./src/views/Listener/AddListenerModal.vue?f0b4","webpack:///./src/views/Listener/ListenerTable.vue","webpack:///./src/views/Listener/ListenerTable.vue?3308","webpack:///./src/views/Listener/ListenerTable.vue?aada","webpack:///./src/views/Listener/Index.vue?6fc6","webpack:///./src/views/Listener/Index.vue?a5bd"],"names":["toInteger","toString","requireObjectCoercible","module","exports","count","str","this","result","n","Infinity","RangeError","fixRegExpWellKnownSymbolLogic","isRegExp","anObject","speciesConstructor","advanceStringIndex","toLength","callRegExpExec","regexpExec","stickyHelpers","fails","UNSUPPORTED_Y","arrayPush","push","min","Math","MAX_UINT32","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","re","originalExec","exec","apply","arguments","split","length","SPLIT","nativeSplit","maybeCallNative","internalSplit","separator","limit","string","lim","undefined","call","match","lastIndex","lastLength","output","flags","ignoreCase","multiline","unicode","sticky","lastLastIndex","separatorCopy","RegExp","source","slice","index","test","O","splitter","rx","S","res","done","value","C","unicodeMatching","p","q","A","e","z","i","$","repeat","target","proto","class","selectedKeys","currentLisenterName","mode","listenerList","listener","name","icon","width","style","beaconList","beacon","key","uuid","beaconBtnHandler","targetUrl","currentBeaconTargetUrl","title","actions","genListenerList","_objectSpread","Object","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","_defineProperty","obj","defineProperty","configurable","writable","props","context","attrs","AntdIcon","displayName","inheritAttrs","GetListenerListAPI","url","method","AddListenerAPI","data","GetBeaconListAPI","ref","ShDataType","SpecialTerminalChar","defaultTheme","foreground","background","cursor","selection","black","brightBlack","red","brightRed","green","brightGreen","yellow","brightYellow","magenta","brightMagenta","blue","brightBlue","cyan","brightCyan","white","brightWhite","type","String","required","setup","store","term","terminal","socket","fitAddon","inputBuffer","currentPosOfInputBuffer","lastInputChar","startTerminal","rendererType","convertEol","scrollback","disableStdin","cursorStyle","cursorBlink","theme","loadAddon","open","window","addEventListener","console","log","fit","onData","inputChar","msg","leftp","rightp","BACKSPACE","write","ENETER","CMD","send","JSON","stringify","UP","DOWN","LEFT","RIGHT","CRTL_C","startWsConn","close","WebSocket","onopen","sendSuccessToast","state","user","accessToken","setOption","onmessage","parse","DEBUG","ERROR","sendErrToast","onclose","onerror","errMsg","showIcon","position","hideProgressBar","successMsg","newVal","oldVal","methods","render","__scopeId","showModal","visible","confirm-loading","confirmLoading","handleSumbit","model","formState","label","lhost","lport","default-value","max","ITouchProps","disabled","looseBool","activeClassName","activeStyle","any","mixins","BaseMixin","child","active","mounted","_this","$nextTick","setState","triggerEvent","isActive","ev","eventType","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onMouseDown","onMouseUp","onMouseLeave","_ref","_this$$props","$props","_this$$props$activeCl","_this$$props$activeSt","warning","events","supportsPassive","_child$props","className","classNames","InputHandler","prefixCls","touchableProps","default","$attrs","preventDefault","defaultParser","input","replace","SPEED","DELAY","MAX_SAFE_INTEGER","Number","pow","isValidProps","isEqual","oldValue","newValue","isNaN","inputNumberProps","oneOfType","number","defaultValue","focusOnUpDown","autofocus","tabindex","placeholder","readonly","step","upHandler","downHandler","useTouch","formatter","func","parser","precision","pattern","decimalSeparator","autocomplete","id","maxlength","prevProps","validValue","getValidValue","toNumber","inputValue","toPrecisionAsStep","sValue","focused","updatedFunc","updated","_this2","$data","nextInputValue","pressingUpOrDown","inputting","rawInput","nextValue","__emit","beforeUnmount","stop","inputElem","inputRef","cursorStart","partRestoreByAfter","cursorAfter","currentValue","lastKeyCode","KeyCode","fixCaret","DELETE","pos","document","activeElement","focus","onKeyDown","keyCode","ratio","getRatio","up","_ratio","down","ENTER","recordCursorPosition","_len","args","Array","_key","onKeyUp","_len2","_key2","onTrigger","composing","onChange","getValueFromEvent","num","onFocus","_len3","_key3","onBlur","getCurrentValidValue","setValue","originValue","getInputDisplayValue","_len4","_key4","val","isNotCompleteNumber","parseFloat","metaKey","ctrlKey","shiftKey","trim","v","callback","_this$$data","_this$$data$sValue","_this$$data$inputValu","newValueInString","toFixed","changed","getPrecision","valueString","indexOf","parseInt","getMaxPrecision","ratioPrecision","stepPrecision","currentValuePrecision","getPrecisionFactor","inputDisplayValue","inputDisplayValueFormat","formatWrapper","selectionStart","cursorEnd","selectionEnd","cursorBefore","substring","start","end","currentStart","currentEnd","setSelectionRange","restoreByAfter","fullStr","lastIndexOf","prevCursorPos","charAt","_this3","prototype","some","_","partStr","blur","abs","_this$$props2","_this$$data$focused","numberIsTooLarge","round","upStep","rat","precisionFactor","downStep","stepFn","_this4","recursive","outOfRange","autoStepTimer","setTimeout","clearTimeout","handleInputClick","saveUp","node","upHandlerRef","saveDown","downHandlerRef","saveInput","onCompositionstart","onCompositionend","_classNames","classes","upDisabledClass","downDisabledClass","dataOrAriaAttributeProps","hasOwnProperty","substr","upEvents","downEvents","_upEvents","_downEvents","editable","onMousedown","onMouseup","onMouseleave","isUpDisabled","isDownDisabled","upHandlerProps","unselectable","role","downHandlerProps","onMouseenter","onMouseover","onMouseout","__rest","s","t","propertyIsEnumerable","def","size","oneOf","onPressEnter","Function","InputNumber","inputNumberRef","configProvider","_a","customizePrefixCls","others","getPrefixCls","inputNumberClass","upIcon","UpOutlined","downIcon","DownOutlined","vcInputNumberProps","components","EditOutlined","emits","modalText","$emit","columns","data-source","text","customTitle","tags","tag","color","toUpperCase","action","record","dataIndex","slots","customRender","prop","Terminal","SettingOutlined","EllipsisOutlined","MailOutlined","AddListenerModal","ListenerTable","address","closed","billboard","incommingWSData","BEACON","genBeaconList","beaconName","URL","location","href","protocol"],"mappings":"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","file":"static/js/chunk-001789ef.47997a40.js","sourcesContent":["'use strict';\nvar toInteger = require('../internals/to-integer');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.es/ecma262/#sec-string.prototype.repeat\nmodule.exports = function repeat(count) {\n  var str = toString(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar isRegExp = require('../internals/is-regexp');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar callRegExpExec = require('../internals/regexp-exec-abstract');\nvar regexpExec = require('../internals/regexp-exec');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar fails = require('../internals/fails');\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;\nvar arrayPush = [].push;\nvar min = Math.min;\nvar MAX_UINT32 = 0xFFFFFFFF;\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  // eslint-disable-next-line regexp/no-empty-group -- required for testing\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'.split(/(b)*/)[1] == 'c' ||\n    // eslint-disable-next-line regexp/no-empty-group -- required for testing\n    'test'.split(/(?:)/, -1).length != 4 ||\n    'ab'.split(/(?:ab)*/).length != 2 ||\n    '.'.split(/(.?)(.?)/).length != 4 ||\n    // eslint-disable-next-line regexp/no-empty-capturing-group, regexp/no-empty-group -- required for testing\n    '.'.split(/()()/).length > 1 ||\n    ''.split(/.?/).length\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = toString(requireObjectCoercible(this));\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (separator === undefined) return [string];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) {\n        return nativeSplit.call(string, separator, lim);\n      }\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy.lastIndex;\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n          if (output.length >= lim) break;\n        }\n        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string.length) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output.length > lim ? output.slice(0, lim) : output;\n    };\n  // Chakra, V8\n  } else if ('0'.split(undefined, 0).length) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n    };\n  } else internalSplit = nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.es/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(toString(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (string, limit) {\n      var rx = anObject(this);\n      var S = toString(string);\n      var res = maybeCallNative(internalSplit, rx, S, limit, internalSplit !== nativeSplit);\n\n      if (res.done) return res.value;\n\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (UNSUPPORTED_Y ? 'g' : 'y');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(UNSUPPORTED_Y ? '^(?:' + rx.source + ')' : rx, flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = UNSUPPORTED_Y ? 0 : q;\n        var z = callRegExpExec(splitter, UNSUPPORTED_Y ? S.slice(q) : S);\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (UNSUPPORTED_Y ? q : 0)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n}, !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC, UNSUPPORTED_Y);\n","var $ = require('../internals/export');\nvar repeat = require('../internals/string-repeat');\n\n// `String.prototype.repeat` method\n// https://tc39.es/ecma262/#sec-string.prototype.repeat\n$({ target: 'String', proto: true }, {\n  repeat: repeat\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Index.vue?vue&type=style&index=0&id=3daf4eb4&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Terminal.vue?vue&type=style&index=0&id=57689eda&lang=scss&scoped=true\"","<template>\n  <div class=\"page\">\n    <div class=\"contianer\">\n      <div class=\"shell-panel\">\n        <a-menu v-model:selectedKeys=\"currentLisenterName\" mode=\"horizontal\">\n          <template v-for=\"listener in listenerList\" :key=\"listener.name\">\n            <a-menu-item>\n              <template #icon>\n                <mail-outlined />\n              </template>\n              {{ listener.name }}\n            </a-menu-item>\n          </template>\n        </a-menu>\n        <div class=\"payload-content\">\n          <a-layout>\n            <a-layout-sider width=\"200\" style=\"background: #fff\">\n              <a-menu mode=\"inline\" :style=\"{ height: '100%', borderRight: 0 }\">\n                <a-menu-item v-for=\"beacon in beaconList\" :key=\"beacon.uuid\" @click=\"beaconBtnHandler(beacon.name)\">\n                  <template #icon>\n                    <mail-outlined />\n                  </template>\n                  {{beacon.name}}\n                </a-menu-item>\n              </a-menu>\n            </a-layout-sider>\n            <a-layout-content\n              :style=\"{\n                background: '#fff',\n                padding: '24px',\n                margin: 0,\n                minHeight: '280px',\n              }\"\n            >\n              <terminal :targetUrl=\"currentBeaconTargetUrl\" />\n            </a-layout-content>\n          </a-layout>\n        </div>\n      </div>\n      <div class=\"listener-panel\">\n        <a-card title=\"Listener\">\n          <template class=\"ant-card-actions\" #actions>\n            <setting-outlined key=\"setting\"/>\n            <add-listener-modal key=\"add\"  @refresh-data-list=\"genListenerList\" />\n            <ellipsis-outlined key=\"ellipsis\" />\n          </template>\n          <listener-table :listenerList=\"listenerList\" />\n        </a-card>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {\n  SettingOutlined,\n  EllipsisOutlined,\n  MailOutlined,\n} from \"@ant-design/icons-vue\";\nimport { defineComponent, onMounted, ref, watch } from \"vue\";\nimport { GetListenerListAPI } from \"@/api/listener\";\nimport { GetBeaconListAPI} from '@/api/beacon';\nimport Terminal from \"@/components/listener/Terminal.vue\";\nimport AddListenerModal from \"./AddListenerModal.vue\";\nimport { Beacon } from '@/typings/beacon';\nimport {useStore} from '@/store';\nimport { WSDataType } from \"@/typings/billboard\";\nimport ListenerTable from './ListenerTable.vue';\n\ninterface TableListenerI {\n  name: string;\n  address: string;\n  tags: string[];\n}\n\nexport default defineComponent({\n  components: {\n    Terminal,\n    SettingOutlined,\n    EllipsisOutlined,\n    MailOutlined,\n    AddListenerModal,\n    ListenerTable,\n  },\n  setup() {\n    const store = useStore();\n\n    const currentLisenterName = ref<string[]>([\"a\"]);\n    const listenerList = ref<TableListenerI[]>([]);\n    const beaconList = ref<Beacon[]>([]);\n    const currentBeaconTargetUrl = ref<string>(\"\");\n\n    const genListenerList = async () => {\n      const res = await GetListenerListAPI();\n      console.log(res);\n      listenerList.value = []\n      if (res) {\n        const data = res.data.data;\n        if(data){\n          data.forEach((listener) => {\n            listenerList.value.push({\n              name: listener.name,\n              address: `${listener.lhost}:${listener.lport}`,\n              tags: [listener.closed ? \"Offline\" : \"Online\"],\n            });\n          });\n        }\n      }\n    };\n\n    watch(\n      () => store.state.billboard.incommingWSData,\n      (newVal, oldVal) => {\n        console.log(`received ${newVal}`);\n        if (newVal?.type === WSDataType.BEACON) {\n          genBeaconList()\n        }\n      }\n    );\n\n    const genBeaconList = async () => {\n      const res = await GetBeaconListAPI();\n      console.log(res);\n      beaconList.value = []\n      if (res) {\n        const data = res.data.data;\n        if(data){\n          data.forEach((beacon) => {\n            beaconList.value.push({\n              name: beacon.name,\n              uuid: beacon.uuid,\n            });\n          });\n        }\n      }\n    };\n\n\n    const beaconBtnHandler = (beaconName: string) => {\n      console.log(\"beaconBtnHandler \", beaconName);\n      const url = new URL('/api/v1/beacon/ws/', window.location.href);\n      url.protocol = url.protocol.replace('http', 'ws');\n      currentBeaconTargetUrl.value = `${url.href}?name=${beaconName}`;\n    };\n\n    onMounted(() => {\n      genListenerList();\n      genBeaconList();\n    });\n\n    return {\n      listenerList,\n      beaconList,\n      currentLisenterName,\n      currentBeaconTargetUrl,\n      beaconBtnHandler,\n      genListenerList,\n    };\n  },\n});\n</script>\n\n\n<style lang=\"scss\" scoped>\n.contianer {\n  margin: 24px 16px;\n  padding: 24px;\n  min-height: 280px;\n}\n.listener-panel {\n  margin-top: 24px;\n}\n</style>","// This icon file is generated automatically.\nvar SettingOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z\" } }] }, \"name\": \"setting\", \"theme\": \"outlined\" };\nexport default SettingOutlined;\n","import * as _vue from \"vue\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport SettingOutlinedSvg from \"@ant-design/icons-svg/es/asn/SettingOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar SettingOutlined = function SettingOutlined(props, context) {\n  var p = _objectSpread({}, props, context.attrs);\n\n  return _vue.createVNode(AntdIcon, _vue.mergeProps(p, {\n    \"icon\": SettingOutlinedSvg\n  }), null);\n};\n\nSettingOutlined.displayName = 'SettingOutlined';\nSettingOutlined.inheritAttrs = false;\nexport default SettingOutlined;","// This icon file is generated automatically.\nvar MailOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z\" } }] }, \"name\": \"mail\", \"theme\": \"outlined\" };\nexport default MailOutlined;\n","import * as _vue from \"vue\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport MailOutlinedSvg from \"@ant-design/icons-svg/es/asn/MailOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar MailOutlined = function MailOutlined(props, context) {\n  var p = _objectSpread({}, props, context.attrs);\n\n  return _vue.createVNode(AntdIcon, _vue.mergeProps(p, {\n    \"icon\": MailOutlinedSvg\n  }), null);\n};\n\nMailOutlined.displayName = 'MailOutlined';\nMailOutlined.inheritAttrs = false;\nexport default MailOutlined;","import service from \"@/utils/request\";\nimport { IResponse } from \"@/typings/response\";\nimport { AxiosPromise } from \"axios\";\nimport { Listener } from \"@/typings/listener\";\n\n// @Summary 获取所有监听器列表\n// @Produce  application/json\n// @Router /listener/ [get]\nexport function GetListenerListAPI(): AxiosPromise<IResponse<Listener[]|null>> {\n  return service({\n    url: 'listener/',\n    method: \"get\",\n  });\n}\n\n\n// @Summary 添加新监听器\n// @Produce  application/json\n// @Router /listener/ [post]\nexport function AddListenerAPI(listener:Listener): AxiosPromise<IResponse<Listener>> {\n    return service({\n      url: 'listener/',\n      method: \"post\",\n      data:listener\n    });\n  }\n  ","import service from \"@/utils/request\";\nimport { IResponse } from \"@/typings/response\";\nimport { AxiosPromise } from \"axios\";\nimport { Listener } from \"@/typings/listener\";\nimport { Beacon } from \"@/typings/beacon\";\n\n// @Summary 获取所有Beacon列表\n// @Produce  application/json\n// @Router /listener/ [get]\nexport function GetBeaconListAPI(): AxiosPromise<IResponse<Beacon[]|null>> {\n  return service({\n    url: 'beacon/',\n    method: \"get\",\n  });\n}","<template>\n  <div class=\"console\" ref=\"term\"></div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, onMounted, onUnmounted, Ref, ref, watch } from \"vue\";\nimport \"xterm/css/xterm.css\";\nimport { Terminal } from \"xterm\";\nimport { FitAddon } from \"xterm-addon-fit\";\nimport { ShData,ShDataType } from \"@/typings/beacon\";\nimport { createToast } from \"mosha-vue-toastify\";\n// import the styling for the toast\nimport \"mosha-vue-toastify/dist/style.css\";\nimport {useStore} from '@/store';\n\nconst defaultTheme = {\n  foreground: \"#ffffff\", // 字体\n  background: \"#1b212f\", // 背景色\n  cursor: \"#ffffff\", // 设置光标\n  selection: \"rgba(255, 255, 255, 0.3)\",\n  black: \"#000000\",\n  brightBlack: \"#808080\",\n  red: \"#ce2f2b\",\n  brightRed: \"#f44a47\",\n  green: \"#00b976\",\n  brightGreen: \"#05d289\",\n  yellow: \"#e0d500\",\n  brightYellow: \"#f4f628\",\n  magenta: \"#bd37bc\",\n  brightMagenta: \"#d86cd8\",\n  blue: \"#1d6fca\",\n  brightBlue: \"#358bed\",\n  cyan: \"#00a8cf\",\n  brightCyan: \"#19b8dd\",\n  white: \"#e5e5e5\",\n  brightWhite: \"#ffffff\",\n};\n\nconst enum SpecialTerminalChar{\n  BACKSPACE = \"\\x7f\",\n  ENETER = \"\\x0d\",\n  UP = \"\\x1b[A\",\n  LEFT = \"\\x1b[D\",\n  DOWN = \"\\x1b[B\",\n  RIGHT = \"\\x1b[C\",\n  CRTL_C = \"\\x03\",\n  CRTL_v = \"\\x16\",\n}\n\nexport default defineComponent({\n  props: {\n    targetUrl: {\n      type: String,\n      required: true,\n    },\n  },\n  setup(props) {\n    const store = useStore();\n\n    const term: Ref<HTMLElement | null> = ref(null);\n    const terminal: Ref<Terminal | null> = ref(null);\n    const socket: Ref<WebSocket | null> = ref(null);\n    const fitAddon: Ref<FitAddon> = ref(new FitAddon());\n    \n\n\n    var inputBuffer = \"\";\n    var currentPosOfInputBuffer = 0;\n    var lastInputChar =\"\";\n\n    const startTerminal = function (): void {\n      if (term.value) {\n        terminal.value = new Terminal({\n          rendererType: \"canvas\", // 渲染类型\n          convertEol: true, // 启用时，光标将设置为下一行的开头\n          scrollback: 50, // 终端中的回滚量\n          disableStdin: true, // 是否应禁用输入。\n          cursorStyle: \"bar\", // 光标样式\n          cursorBlink: true, // 光标闪烁\n          theme: defaultTheme,\n        });\n        terminal.value.loadAddon(fitAddon.value);\n        terminal.value.open(term.value);\n        ///fitAddon.value.fit();\n\n        window.addEventListener(\"resize\", () => {\n          try {\n            console.log(\"fit\");\n            fitAddon.value.fit();\n          } catch (e) {\n            console.log(e);\n          }\n        });\n\n        terminal.value.onData((inputChar: string) => {\n          // 前端模拟特殊操作，并只有输入回车后才发送整段数据\n          //console.log(\"before\",escape(inputChar),inputBuffer,currentPosOfInputBuffer);\n          var msg:ShData;\n          var leftp:string =inputBuffer.slice(0,currentPosOfInputBuffer);\n          var rightp:string=inputBuffer.slice(currentPosOfInputBuffer,inputBuffer.length);\n\n          //console.log(\"left part\",leftp,\"righ part\",rightp)\n          switch(inputChar){\n            case SpecialTerminalChar.BACKSPACE:\n              if(currentPosOfInputBuffer <=0)\n                break;\n              if(currentPosOfInputBuffer === 0) \n                break;\n              terminal.value?.write(\"\\b\\u001b[1P\"+rightp+\"\\b\".repeat(rightp.length));\n              inputBuffer = inputBuffer.slice(0,currentPosOfInputBuffer-1) + rightp;\n              currentPosOfInputBuffer -=1;\n              break;\n            case SpecialTerminalChar.ENETER:\n              msg = { type: ShDataType.CMD, data: inputBuffer+\"\\n\" };\n              terminal.value?.write(\"\\b\".repeat(leftp.length));\n              inputBuffer = \"\";\n              currentPosOfInputBuffer = 0;\n              if (socket.value) socket.value.send(JSON.stringify(msg));\n              break;\n            case SpecialTerminalChar.UP:\n              terminal.value?.write(\"\\b\".repeat(inputBuffer.length));\n              msg = { type: ShDataType.CMD, data: inputChar };\n              if (socket.value) socket.value.send(JSON.stringify(msg));\n              break;\n            case SpecialTerminalChar.DOWN:\n              terminal.value?.write(\"\\b\".repeat(inputBuffer.length));\n              msg = { type: ShDataType.CMD, data: inputChar };\n              if (socket.value) socket.value.send(JSON.stringify(msg));\n              break;\n            case SpecialTerminalChar.LEFT:\n              if(currentPosOfInputBuffer <=0) {\n                currentPosOfInputBuffer = 0\n              }else{\n                currentPosOfInputBuffer -= 1;\n                terminal.value?.write(inputChar);\n              }\n              break;\n            case SpecialTerminalChar.RIGHT:\n              if(currentPosOfInputBuffer >= inputBuffer.length) {\n                currentPosOfInputBuffer = inputBuffer.length\n              }else{\n                currentPosOfInputBuffer += 1;\n                terminal.value?.write(inputChar);\n              }\n              break;\n            case SpecialTerminalChar.CRTL_C:\n              terminal.value?.write(inputChar);\n              break;\n            default:\n              terminal.value?.write(inputChar+rightp+\"\\b\".repeat(rightp.length));\n              inputBuffer = leftp + inputChar + rightp\n              currentPosOfInputBuffer += 1;\n          }\n          lastInputChar = inputChar;\n\n          //console.log(\"after\",escape(inputChar),inputBuffer,currentPosOfInputBuffer);\n          //leftp = inputBuffer.slice(0,currentPosOfInputBuffer);\n          //rightp =inputBuffer.slice(currentPosOfInputBuffer,inputBuffer.length);\n\n          console.log(\"left part\",leftp,\"righ part\",rightp)\n          //纯后端无缓冲区效率太低了\n          //const msg: ShData = { type: ShDataType.CMD, data: inputChar };\n          //if (socket.value) socket.value.send(JSON.stringify(msg));\n          //console.log(\"after\",escape(inputChar),inputBuffer,currentPosOfInputBuffer);\n        });\n      }\n    };\n\n    const startWsConn = (url: string) => {\n      if (url.length <= 0) {\n        return;\n      }\n      if (socket.value) {\n        socket.value.close();\n      }\n      socket.value = new WebSocket(url);\n      socket.value.onopen = (e: Event) => {\n        console.log(\"Connected to server\");\n        sendSuccessToast(\"Connected to server\");\n        if (socket.value){\n          socket.value.send(JSON.stringify({ type: \"auth\", data: store.state.user.accessToken }));\n          socket.value.send(JSON.stringify({ type: \"cmd\", data: \"\\n\" }));\n          terminal.value?.setOption(\"disableStdin\",false)\n        }\n      };\n      socket.value.onmessage = (e: MessageEvent) => {\n        const msg: ShData = JSON.parse(e.data);\n        switch (msg.type){\n          case ShDataType.DEBUG:\n            console.log(\"shData debug\",msg.data)\n            break\n          case ShDataType.CMD:\n            switch (lastInputChar){\n              case SpecialTerminalChar.UP:\n                inputBuffer = msg.data\n                currentPosOfInputBuffer = inputBuffer.length\n                break\n              case SpecialTerminalChar.DOWN:\n                inputBuffer = msg.data\n                currentPosOfInputBuffer = inputBuffer.length\n                break\n              case SpecialTerminalChar.ENETER:\n                inputBuffer = \"\"\n                currentPosOfInputBuffer = 0\n                break\n            }\n            terminal.value?.write(msg.data)\n            break\n          case ShDataType.ERROR:\n            sendErrToast(msg.data)\n            break\n        }\n      };\n      socket.value.onclose = (e: Event) => {\n        console.log(\"Connection Closed\");\n        terminal.value?.setOption(\"cursorBlink\", false);\n        sendErrToast(\"Connection Closed\");\n      };\n      socket.value.onerror = (e: Event) => {\n        console.log(\"Failed\");\n      };\n    };\n\n    const sendErrToast = (errMsg: string) => {\n      createToast(errMsg, {\n        showIcon: true,\n        position: \"bottom-right\",\n        hideProgressBar: true,\n        type: \"danger\",\n      });\n    };\n\n    const sendSuccessToast = (successMsg: string) => {\n      createToast(successMsg, {\n        showIcon: true,\n        position: \"bottom-right\",\n        hideProgressBar: true,\n        type: \"success\",\n      });\n    };\n\n    watch(\n      () => props.targetUrl,\n      (newVal, oldVal) => {\n        console.log(`listener changed: old ${oldVal} new ${newVal}`);\n        startWsConn(newVal);\n      }\n    );\n\n    onMounted(() => {\n      startWsConn(props.targetUrl);\n      startTerminal();\n    });\n\n    onUnmounted(() => {\n      if (socket.value) {\n        socket.value.close();\n      }\n    });\n\n    return {\n      term,\n      terminal,\n      startTerminal,\n    };\n  },\n  methods: {},\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.console {\n  height: 100%;\n  width: 100%;\n}\n</style>","export enum ShDataType{\n    DEBUG = \"debug\",\n    CMD = \"cmd\",\n    ERROR = \"error\"\n}\n\nexport interface ShData {\n    type:ShDataType\n    data:string\n}\n\nexport interface Beacon {\n    name:string\n    uuid:string\n}","\nimport { defineComponent, onMounted, onUnmounted, Ref, ref, watch } from \"vue\";\nimport \"xterm/css/xterm.css\";\nimport { Terminal } from \"xterm\";\nimport { FitAddon } from \"xterm-addon-fit\";\nimport { ShData,ShDataType } from \"@/typings/beacon\";\nimport { createToast } from \"mosha-vue-toastify\";\n// import the styling for the toast\nimport \"mosha-vue-toastify/dist/style.css\";\nimport {useStore} from '@/store';\n\nconst defaultTheme = {\n  foreground: \"#ffffff\", // 字体\n  background: \"#1b212f\", // 背景色\n  cursor: \"#ffffff\", // 设置光标\n  selection: \"rgba(255, 255, 255, 0.3)\",\n  black: \"#000000\",\n  brightBlack: \"#808080\",\n  red: \"#ce2f2b\",\n  brightRed: \"#f44a47\",\n  green: \"#00b976\",\n  brightGreen: \"#05d289\",\n  yellow: \"#e0d500\",\n  brightYellow: \"#f4f628\",\n  magenta: \"#bd37bc\",\n  brightMagenta: \"#d86cd8\",\n  blue: \"#1d6fca\",\n  brightBlue: \"#358bed\",\n  cyan: \"#00a8cf\",\n  brightCyan: \"#19b8dd\",\n  white: \"#e5e5e5\",\n  brightWhite: \"#ffffff\",\n};\n\nconst enum SpecialTerminalChar{\n  BACKSPACE = \"\\x7f\",\n  ENETER = \"\\x0d\",\n  UP = \"\\x1b[A\",\n  LEFT = \"\\x1b[D\",\n  DOWN = \"\\x1b[B\",\n  RIGHT = \"\\x1b[C\",\n  CRTL_C = \"\\x03\",\n  CRTL_v = \"\\x16\",\n}\n\nexport default defineComponent({\n  props: {\n    targetUrl: {\n      type: String,\n      required: true,\n    },\n  },\n  setup(props) {\n    const store = useStore();\n\n    const term: Ref<HTMLElement | null> = ref(null);\n    const terminal: Ref<Terminal | null> = ref(null);\n    const socket: Ref<WebSocket | null> = ref(null);\n    const fitAddon: Ref<FitAddon> = ref(new FitAddon());\n    \n\n\n    var inputBuffer = \"\";\n    var currentPosOfInputBuffer = 0;\n    var lastInputChar =\"\";\n\n    const startTerminal = function (): void {\n      if (term.value) {\n        terminal.value = new Terminal({\n          rendererType: \"canvas\", // 渲染类型\n          convertEol: true, // 启用时，光标将设置为下一行的开头\n          scrollback: 50, // 终端中的回滚量\n          disableStdin: true, // 是否应禁用输入。\n          cursorStyle: \"bar\", // 光标样式\n          cursorBlink: true, // 光标闪烁\n          theme: defaultTheme,\n        });\n        terminal.value.loadAddon(fitAddon.value);\n        terminal.value.open(term.value);\n        ///fitAddon.value.fit();\n\n        window.addEventListener(\"resize\", () => {\n          try {\n            console.log(\"fit\");\n            fitAddon.value.fit();\n          } catch (e) {\n            console.log(e);\n          }\n        });\n\n        terminal.value.onData((inputChar: string) => {\n          // 前端模拟特殊操作，并只有输入回车后才发送整段数据\n          //console.log(\"before\",escape(inputChar),inputBuffer,currentPosOfInputBuffer);\n          var msg:ShData;\n          var leftp:string =inputBuffer.slice(0,currentPosOfInputBuffer);\n          var rightp:string=inputBuffer.slice(currentPosOfInputBuffer,inputBuffer.length);\n\n          //console.log(\"left part\",leftp,\"righ part\",rightp)\n          switch(inputChar){\n            case SpecialTerminalChar.BACKSPACE:\n              if(currentPosOfInputBuffer <=0)\n                break;\n              if(currentPosOfInputBuffer === 0) \n                break;\n              terminal.value?.write(\"\\b\\u001b[1P\"+rightp+\"\\b\".repeat(rightp.length));\n              inputBuffer = inputBuffer.slice(0,currentPosOfInputBuffer-1) + rightp;\n              currentPosOfInputBuffer -=1;\n              break;\n            case SpecialTerminalChar.ENETER:\n              msg = { type: ShDataType.CMD, data: inputBuffer+\"\\n\" };\n              terminal.value?.write(\"\\b\".repeat(leftp.length));\n              inputBuffer = \"\";\n              currentPosOfInputBuffer = 0;\n              if (socket.value) socket.value.send(JSON.stringify(msg));\n              break;\n            case SpecialTerminalChar.UP:\n              terminal.value?.write(\"\\b\".repeat(inputBuffer.length));\n              msg = { type: ShDataType.CMD, data: inputChar };\n              if (socket.value) socket.value.send(JSON.stringify(msg));\n              break;\n            case SpecialTerminalChar.DOWN:\n              terminal.value?.write(\"\\b\".repeat(inputBuffer.length));\n              msg = { type: ShDataType.CMD, data: inputChar };\n              if (socket.value) socket.value.send(JSON.stringify(msg));\n              break;\n            case SpecialTerminalChar.LEFT:\n              if(currentPosOfInputBuffer <=0) {\n                currentPosOfInputBuffer = 0\n              }else{\n                currentPosOfInputBuffer -= 1;\n                terminal.value?.write(inputChar);\n              }\n              break;\n            case SpecialTerminalChar.RIGHT:\n              if(currentPosOfInputBuffer >= inputBuffer.length) {\n                currentPosOfInputBuffer = inputBuffer.length\n              }else{\n                currentPosOfInputBuffer += 1;\n                terminal.value?.write(inputChar);\n              }\n              break;\n            case SpecialTerminalChar.CRTL_C:\n              terminal.value?.write(inputChar);\n              break;\n            default:\n              terminal.value?.write(inputChar+rightp+\"\\b\".repeat(rightp.length));\n              inputBuffer = leftp + inputChar + rightp\n              currentPosOfInputBuffer += 1;\n          }\n          lastInputChar = inputChar;\n\n          //console.log(\"after\",escape(inputChar),inputBuffer,currentPosOfInputBuffer);\n          //leftp = inputBuffer.slice(0,currentPosOfInputBuffer);\n          //rightp =inputBuffer.slice(currentPosOfInputBuffer,inputBuffer.length);\n\n          console.log(\"left part\",leftp,\"righ part\",rightp)\n          //纯后端无缓冲区效率太低了\n          //const msg: ShData = { type: ShDataType.CMD, data: inputChar };\n          //if (socket.value) socket.value.send(JSON.stringify(msg));\n          //console.log(\"after\",escape(inputChar),inputBuffer,currentPosOfInputBuffer);\n        });\n      }\n    };\n\n    const startWsConn = (url: string) => {\n      if (url.length <= 0) {\n        return;\n      }\n      if (socket.value) {\n        socket.value.close();\n      }\n      socket.value = new WebSocket(url);\n      socket.value.onopen = (e: Event) => {\n        console.log(\"Connected to server\");\n        sendSuccessToast(\"Connected to server\");\n        if (socket.value){\n          socket.value.send(JSON.stringify({ type: \"auth\", data: store.state.user.accessToken }));\n          socket.value.send(JSON.stringify({ type: \"cmd\", data: \"\\n\" }));\n          terminal.value?.setOption(\"disableStdin\",false)\n        }\n      };\n      socket.value.onmessage = (e: MessageEvent) => {\n        const msg: ShData = JSON.parse(e.data);\n        switch (msg.type){\n          case ShDataType.DEBUG:\n            console.log(\"shData debug\",msg.data)\n            break\n          case ShDataType.CMD:\n            switch (lastInputChar){\n              case SpecialTerminalChar.UP:\n                inputBuffer = msg.data\n                currentPosOfInputBuffer = inputBuffer.length\n                break\n              case SpecialTerminalChar.DOWN:\n                inputBuffer = msg.data\n                currentPosOfInputBuffer = inputBuffer.length\n                break\n              case SpecialTerminalChar.ENETER:\n                inputBuffer = \"\"\n                currentPosOfInputBuffer = 0\n                break\n            }\n            terminal.value?.write(msg.data)\n            break\n          case ShDataType.ERROR:\n            sendErrToast(msg.data)\n            break\n        }\n      };\n      socket.value.onclose = (e: Event) => {\n        console.log(\"Connection Closed\");\n        terminal.value?.setOption(\"cursorBlink\", false);\n        sendErrToast(\"Connection Closed\");\n      };\n      socket.value.onerror = (e: Event) => {\n        console.log(\"Failed\");\n      };\n    };\n\n    const sendErrToast = (errMsg: string) => {\n      createToast(errMsg, {\n        showIcon: true,\n        position: \"bottom-right\",\n        hideProgressBar: true,\n        type: \"danger\",\n      });\n    };\n\n    const sendSuccessToast = (successMsg: string) => {\n      createToast(successMsg, {\n        showIcon: true,\n        position: \"bottom-right\",\n        hideProgressBar: true,\n        type: \"success\",\n      });\n    };\n\n    watch(\n      () => props.targetUrl,\n      (newVal, oldVal) => {\n        console.log(`listener changed: old ${oldVal} new ${newVal}`);\n        startWsConn(newVal);\n      }\n    );\n\n    onMounted(() => {\n      startWsConn(props.targetUrl);\n      startTerminal();\n    });\n\n    onUnmounted(() => {\n      if (socket.value) {\n        socket.value.close();\n      }\n    });\n\n    return {\n      term,\n      terminal,\n      startTerminal,\n    };\n  },\n  methods: {},\n});\n","import { render } from \"./Terminal.vue?vue&type=template&id=57689eda&scoped=true\"\nimport script from \"./Terminal.vue?vue&type=script&lang=ts\"\nexport * from \"./Terminal.vue?vue&type=script&lang=ts\"\n\nimport \"./Terminal.vue?vue&type=style&index=0&id=57689eda&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-57689eda\"\n\nexport default script","<template>\n  <div>\n    <edit-outlined @click=\"showModal\" />\n    <a-modal\n      title=\"Title\"\n      v-model:visible=\"visible\"\n      :confirm-loading=\"confirmLoading\"\n      @ok=\"handleSumbit\"\n    >\n      <a-form\n        :model=\"formState\"\n      >\n        <a-form-item label=\"Listener name\">\n          <a-input v-model:value=\"formState.name\" />\n        </a-form-item>\n        <a-form-item label=\"Listener host\">\n          <a-input v-model:value=\"formState.lhost\" />\n        </a-form-item>\n        <a-form-item label=\"Listener port\">\n          <input-number\n            v-model:value=\"formState.lport\"\n            :default-value=\"0\"\n            :min=\"0\"\n            :max=\"65535\"\n          />\n        </a-form-item>\n      </a-form>\n    </a-modal>\n  </div>\n</template>\n\n\n<script lang=\"ts\">\nimport { EditOutlined } from \"@ant-design/icons-vue\";\nimport {AddListenerAPI} from '@/api/listener';\nimport {InputNumber} from 'ant-design-vue'\nimport { ref, defineComponent,reactive, toRaw, UnwrapRef  } from \"vue\";\nimport {Listener} from '@/typings/listener'\n\nexport default defineComponent({\n  components: {\n    EditOutlined,\n    InputNumber,\n  },\n  emits:['refresh-data-list'],\n  setup(context) {\n    const modalText = ref<string>(\"Content of the modal\");\n    const visible = ref<boolean>(false);\n    const confirmLoading = ref<boolean>(false);\n\n    const formState: UnwrapRef<Listener> = reactive({\n      name: '',\n      lhost:'0.0.0.0',\n      lport:0,\n    });\n\n    const showModal = () => {\n      visible.value = true;\n    };\n\n    return {\n      modalText,\n      visible,\n      confirmLoading,\n      formState,\n      showModal,\n    };\n  },\n  methods:{\n    handleSumbit:async function (){\n      this.confirmLoading = true;\n      const res = await AddListenerAPI(this.formState)\n      console.log(res)\n      if (res){\n        this.visible = false;\n        this.$emit('refresh-data-list');\n      }\n      this.confirmLoading = false;\n    }\n  }\n});\n</script>","import PropTypes from '../../_util/vue-types';\nexport var ITouchProps = {\n  disabled: PropTypes.looseBool,\n  activeClassName: PropTypes.string,\n  activeStyle: PropTypes.any // onTouchStart: PropTypes.func,\n  // onTouchEnd: PropTypes.func,\n  // onTouchCancel: PropTypes.func,\n  // onMouseDown: PropTypes.func,\n  // onMouseUp: PropTypes.func,\n  // onMouseLeave: PropTypes.func,\n\n};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport classNames from '../../_util/classNames';\nimport { initDefaultProps, getSlot } from '../../_util/props-util';\nimport { cloneElement } from '../../_util/vnode';\nimport warning from '../../_util/warning';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { ITouchProps } from './PropTypes';\nimport { defineComponent } from 'vue';\nimport supportsPassive from '../../_util/supportsPassive';\nexport default defineComponent({\n  name: 'TouchFeedback',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  props: initDefaultProps(ITouchProps, {\n    disabled: false\n  }),\n  data: function data() {\n    this.child = null;\n    return {\n      active: false\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      if (_this.disabled && _this.active) {\n        _this.setState({\n          active: false\n        });\n      }\n    });\n  },\n  methods: {\n    triggerEvent: function triggerEvent(type, isActive, ev) {\n      var eventType = \"on\".concat(type);\n      var child = this.child;\n\n      if (child.props[eventType]) {\n        child.props[eventType](ev);\n      }\n\n      if (isActive !== this.active) {\n        this.setState({\n          active: isActive\n        });\n      }\n    },\n    onTouchStart: function onTouchStart(e) {\n      this.triggerEvent('Touchstart', true, e);\n    },\n    onTouchMove: function onTouchMove(e) {\n      this.triggerEvent('Touchmove', false, e);\n    },\n    onTouchEnd: function onTouchEnd(e) {\n      this.triggerEvent('Touchend', false, e);\n    },\n    onTouchCancel: function onTouchCancel(e) {\n      this.triggerEvent('Touchcancel', false, e);\n    },\n    onMouseDown: function onMouseDown(e) {\n      // pc simulate mobile\n      this.triggerEvent('Mousedown', true, e);\n    },\n    onMouseUp: function onMouseUp(e) {\n      this.triggerEvent('Mouseup', false, e);\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      this.triggerEvent('Mouseleave', false, e);\n    }\n  },\n  render: function render() {\n    var _ref;\n\n    var _this$$props = this.$props,\n        disabled = _this$$props.disabled,\n        _this$$props$activeCl = _this$$props.activeClassName,\n        activeClassName = _this$$props$activeCl === void 0 ? '' : _this$$props$activeCl,\n        _this$$props$activeSt = _this$$props.activeStyle,\n        activeStyle = _this$$props$activeSt === void 0 ? {} : _this$$props$activeSt;\n    var child = getSlot(this);\n\n    if (child.length !== 1) {\n      warning(false, 'm-feedback组件只能包含一个子元素');\n      return null;\n    }\n\n    var events = disabled ? undefined : (_ref = {}, _defineProperty(_ref, supportsPassive ? 'onTouchstartPassive' : 'onTouchstart', this.onTouchStart), _defineProperty(_ref, supportsPassive ? 'onTouchmovePassive' : 'onTouchmove', this.onTouchMove), _defineProperty(_ref, \"onTouchend\", this.onTouchEnd), _defineProperty(_ref, \"onTouchcancel\", this.onTouchCancel), _defineProperty(_ref, \"onMousedown\", this.onMouseDown), _defineProperty(_ref, \"onMouseup\", this.onMouseUp), _defineProperty(_ref, \"onMouseleave\", this.onMouseLeave), _ref);\n    child = child[0];\n    this.child = child;\n\n    if (!disabled && this.active) {\n      var _child$props = child.props,\n          style = _child$props.style,\n          className = _child$props.class;\n\n      if (activeStyle !== false) {\n        if (activeStyle) {\n          style = _extends(_extends({}, style), activeStyle);\n        }\n\n        className = classNames(className, activeClassName);\n      }\n\n      return cloneElement(child, _extends({\n        class: className,\n        style: style\n      }, events));\n    }\n\n    return cloneElement(child, events);\n  }\n});","// based on 2.0.0\nimport TouchFeedback from './src/TouchFeedback';\nexport default TouchFeedback;","import { createVNode as _createVNode } from \"vue\";\nimport PropTypes from '../../_util/vue-types';\nimport Touchable from '../../vc-m-feedback';\nimport { getSlot } from '../../_util/props-util';\nvar InputHandler = {\n  name: 'InputHandler',\n  inheritAttrs: false,\n  props: {\n    prefixCls: PropTypes.string,\n    disabled: PropTypes.looseBool\n  },\n  render: function render() {\n    var _this = this;\n\n    var _this$$props = this.$props,\n        prefixCls = _this$$props.prefixCls,\n        disabled = _this$$props.disabled;\n    var touchableProps = {\n      disabled: disabled,\n      activeClassName: \"\".concat(prefixCls, \"-handler-active\")\n    };\n    return _createVNode(Touchable, touchableProps, {\n      default: function _default() {\n        return [_createVNode(\"span\", _this.$attrs, [getSlot(_this)])];\n      }\n    });\n  }\n};\nexport default InputHandler;","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\n// based on rc-input-number 4.5.5\nimport PropTypes from '../../_util/vue-types';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { initDefaultProps, hasProp, getOptionProps } from '../../_util/props-util';\nimport classNames from '../../_util/classNames';\nimport KeyCode from '../../_util/KeyCode';\nimport InputHandler from './InputHandler';\nimport { defineComponent } from 'vue';\nimport supportsPassive from '../../_util/supportsPassive';\n\nfunction preventDefault(e) {\n  e.preventDefault();\n}\n\nfunction defaultParser(input) {\n  return input.replace(/[^\\w\\.-]+/g, '');\n}\n/**\n * When click and hold on a button - the speed of auto changin the value.\n */\n\n\nvar SPEED = 200;\n/**\n * When click and hold on a button - the delay before auto changin the value.\n */\n\nvar DELAY = 600;\n/**\n * Max Safe Integer -- on IE this is not available, so manually set the number in that case.\n * The reason this is used, instead of Infinity is because numbers above the MSI are unstable\n */\n\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || Math.pow(2, 53) - 1;\n\nvar isValidProps = function isValidProps(value) {\n  return value !== undefined && value !== null;\n};\n\nvar isEqual = function isEqual(oldValue, newValue) {\n  return newValue === oldValue || typeof newValue === 'number' && typeof oldValue === 'number' && isNaN(newValue) && isNaN(oldValue);\n};\n\nvar inputNumberProps = {\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  defaultValue: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  focusOnUpDown: PropTypes.looseBool,\n  autofocus: PropTypes.looseBool,\n  // onChange: PropTypes.func,\n  // onKeyDown: PropTypes.func,\n  // onKeyUp: PropTypes.func,\n  prefixCls: PropTypes.string,\n  tabindex: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  placeholder: PropTypes.string,\n  disabled: PropTypes.looseBool,\n  // onFocus: PropTypes.func,\n  // onBlur: PropTypes.func,\n  readonly: PropTypes.looseBool,\n  max: PropTypes.number,\n  min: PropTypes.number,\n  step: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  upHandler: PropTypes.any,\n  downHandler: PropTypes.any,\n  useTouch: PropTypes.looseBool,\n  formatter: PropTypes.func,\n  parser: PropTypes.func,\n  // onMouseEnter: PropTypes.func,\n  // onMouseLeave: PropTypes.func,\n  // onMouseOver: PropTypes.func,\n  // onMouseOut: PropTypes.func,\n  precision: PropTypes.number,\n  required: PropTypes.looseBool,\n  pattern: PropTypes.string,\n  decimalSeparator: PropTypes.string,\n  autocomplete: PropTypes.string,\n  title: PropTypes.string,\n  name: PropTypes.string,\n  id: PropTypes.string,\n  type: PropTypes.string,\n  maxlength: PropTypes.any\n};\nexport default defineComponent({\n  name: 'VCInputNumber',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  // model: {\n  //   prop: 'value',\n  //   event: 'change',\n  // },\n  props: initDefaultProps(inputNumberProps, {\n    focusOnUpDown: true,\n    useTouch: false,\n    prefixCls: 'rc-input-number',\n    min: -MAX_SAFE_INTEGER,\n    step: 1,\n    parser: defaultParser,\n    required: false,\n    autocomplete: 'off'\n  }),\n  data: function data() {\n    var props = getOptionProps(this);\n    this.prevProps = _extends({}, props);\n    var value;\n\n    if ('value' in props) {\n      value = this.value;\n    } else {\n      value = this.defaultValue;\n    }\n\n    var validValue = this.getValidValue(this.toNumber(value));\n    return {\n      inputValue: this.toPrecisionAsStep(validValue),\n      sValue: validValue,\n      focused: this.autofocus\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      _this.updatedFunc();\n    });\n  },\n  updated: function updated() {\n    var _this2 = this;\n\n    var _this$$props = this.$props,\n        value = _this$$props.value,\n        max = _this$$props.max,\n        min = _this$$props.min;\n    var focused = this.$data.focused;\n    var prevProps = this.prevProps;\n    var props = getOptionProps(this); // Don't trigger in componentDidMount\n\n    if (prevProps) {\n      if (!isEqual(prevProps.value, value) || !isEqual(prevProps.max, max) || !isEqual(prevProps.min, min)) {\n        var validValue = focused ? value : this.getValidValue(value);\n        var nextInputValue;\n\n        if (this.pressingUpOrDown) {\n          nextInputValue = validValue;\n        } else if (this.inputting) {\n          nextInputValue = this.rawInput;\n        } else {\n          nextInputValue = this.toPrecisionAsStep(validValue);\n        }\n\n        this.setState({\n          // eslint-disable-line\n          sValue: validValue,\n          inputValue: nextInputValue\n        });\n      } // Trigger onChange when max or min change\n      // https://github.com/ant-design/ant-design/issues/11574\n\n\n      var nextValue = 'value' in props ? value : this.$data.sValue; // ref: null < 20 === true\n      // https://github.com/ant-design/ant-design/issues/14277\n\n      if ('max' in props && prevProps.max !== max && typeof nextValue === 'number' && nextValue > max) {\n        this.__emit('update:value', max);\n\n        this.__emit('change', max);\n      }\n\n      if ('min' in props && prevProps.min !== min && typeof nextValue === 'number' && nextValue < min) {\n        this.__emit('update:value', min);\n\n        this.__emit('change', min);\n      }\n    }\n\n    this.prevProps = _extends({}, props);\n    this.$nextTick(function () {\n      _this2.updatedFunc();\n    });\n  },\n  beforeUnmount: function beforeUnmount() {\n    this.stop();\n  },\n  methods: {\n    updatedFunc: function updatedFunc() {\n      var inputElem = this.inputRef; // Restore cursor\n\n      try {\n        // Firefox set the input cursor after it get focused.\n        // This caused that if an input didn't init with the selection,\n        // set will cause cursor not correct when first focus.\n        // Safari will focus input if set selection. We need skip this.\n        if (this.cursorStart !== undefined && this.$data.focused) {\n          // In most cases, the string after cursor is stable.\n          // We can move the cursor before it\n          if ( // If not match full str, try to match part of str\n          !this.partRestoreByAfter(this.cursorAfter) && this.$data.sValue !== this.value) {\n            // If not match any of then, let's just keep the position\n            // TODO: Logic should not reach here, need check if happens\n            var pos = this.cursorStart + 1; // If not have last string, just position to the end\n\n            if (!this.cursorAfter) {\n              pos = inputElem.value.length;\n            } else if (this.lastKeyCode === KeyCode.BACKSPACE) {\n              pos = this.cursorStart - 1;\n            } else if (this.lastKeyCode === KeyCode.DELETE) {\n              pos = this.cursorStart;\n            }\n\n            this.fixCaret(pos, pos);\n          } else if (this.currentValue === inputElem.value) {\n            // Handle some special key code\n            switch (this.lastKeyCode) {\n              case KeyCode.BACKSPACE:\n                this.fixCaret(this.cursorStart - 1, this.cursorStart - 1);\n                break;\n\n              case KeyCode.DELETE:\n                this.fixCaret(this.cursorStart + 1, this.cursorStart + 1);\n                break;\n\n              default: // Do nothing\n\n            }\n          }\n        }\n      } catch (e) {// Do nothing\n      } // Reset last key\n\n\n      this.lastKeyCode = null; // pressingUpOrDown is true means that someone just click up or down button\n\n      if (!this.pressingUpOrDown) {\n        return;\n      }\n\n      if (this.focusOnUpDown && this.$data.focused) {\n        if (document.activeElement !== inputElem) {\n          this.focus();\n        }\n      }\n\n      this.pressingUpOrDown = false;\n    },\n    onKeyDown: function onKeyDown(e) {\n      if (e.keyCode === KeyCode.UP) {\n        var ratio = this.getRatio(e);\n        this.up(e, ratio);\n        this.stop();\n      } else if (e.keyCode === KeyCode.DOWN) {\n        var _ratio = this.getRatio(e);\n\n        this.down(e, _ratio);\n        this.stop();\n      } else if (e.keyCode === KeyCode.ENTER) {\n        this.__emit('pressEnter', e);\n      } // Trigger user key down\n\n\n      this.recordCursorPosition();\n      this.lastKeyCode = e.keyCode;\n\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      this.__emit.apply(this, ['keydown', e].concat(args));\n    },\n    onKeyUp: function onKeyUp(e) {\n      this.stop();\n      this.recordCursorPosition();\n\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      this.__emit.apply(this, ['keyup', e].concat(args));\n    },\n    onTrigger: function onTrigger(e) {\n      if (e.target.composing) return false;\n      this.onChange(e);\n    },\n    onChange: function onChange(e) {\n      if (this.$data.focused) {\n        this.inputting = true;\n      }\n\n      this.rawInput = this.parser(this.getValueFromEvent(e));\n      this.setState({\n        inputValue: this.rawInput\n      });\n      var num = this.toNumber(this.rawInput); // valid number or invalid string\n\n      this.__emit('update:value', num);\n\n      this.__emit('change', num);\n    },\n    onFocus: function onFocus() {\n      this.setState({\n        focused: true\n      });\n\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      this.__emit.apply(this, ['focus'].concat(args));\n    },\n    onBlur: function onBlur() {\n      this.inputting = false;\n      this.setState({\n        focused: false\n      });\n      var value = this.getCurrentValidValue(this.$data.inputValue);\n      var newValue = this.setValue(value);\n\n      if (this.$attrs.onBlur && this.inputRef) {\n        var originValue = this.inputRef.value;\n        var inputValue = this.getInputDisplayValue({\n          focused: false,\n          sValue: newValue\n        });\n        this.inputRef.value = inputValue;\n\n        for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n          args[_key4] = arguments[_key4];\n        }\n\n        this.__emit.apply(this, ['blur'].concat(args));\n\n        this.inputRef.value = originValue;\n      }\n    },\n    getCurrentValidValue: function getCurrentValidValue(value) {\n      var val = value;\n\n      if (val === '') {\n        val = '';\n      } else if (!this.isNotCompleteNumber(parseFloat(val, 10))) {\n        val = this.getValidValue(val);\n      } else {\n        val = this.$data.sValue;\n      }\n\n      return this.toNumber(val);\n    },\n    getRatio: function getRatio(e) {\n      var ratio = 1;\n\n      if (e.metaKey || e.ctrlKey) {\n        ratio = 0.1;\n      } else if (e.shiftKey) {\n        ratio = 10;\n      }\n\n      return ratio;\n    },\n    getValueFromEvent: function getValueFromEvent(e) {\n      // optimize for chinese input expierence\n      // https://github.com/ant-design/ant-design/issues/8196\n      var value = e.target.value.trim().replace(/。/g, '.');\n\n      if (isValidProps(this.decimalSeparator)) {\n        value = value.replace(this.decimalSeparator, '.');\n      }\n\n      return value;\n    },\n    getValidValue: function getValidValue(value) {\n      var min = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.min;\n      var max = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.max;\n      var val = parseFloat(value, 10); // https://github.com/ant-design/ant-design/issues/7358\n\n      if (isNaN(val)) {\n        return value;\n      }\n\n      if (val < min) {\n        val = min;\n      }\n\n      if (val > max) {\n        val = max;\n      }\n\n      return val;\n    },\n    setValue: function setValue(v, callback) {\n      // trigger onChange\n      var precision = this.$props.precision;\n      var newValue = this.isNotCompleteNumber(parseFloat(v, 10)) ? null : parseFloat(v, 10);\n      var _this$$data = this.$data,\n          _this$$data$sValue = _this$$data.sValue,\n          value = _this$$data$sValue === void 0 ? null : _this$$data$sValue,\n          _this$$data$inputValu = _this$$data.inputValue,\n          inputValue = _this$$data$inputValu === void 0 ? null : _this$$data$inputValu; // https://github.com/ant-design/ant-design/issues/7363\n      // https://github.com/ant-design/ant-design/issues/16622\n\n      var newValueInString = typeof newValue === 'number' ? newValue.toFixed(precision) : \"\".concat(newValue);\n      var changed = newValue !== value || newValueInString !== \"\".concat(inputValue);\n\n      if (!hasProp(this, 'value')) {\n        this.setState({\n          sValue: newValue,\n          inputValue: this.toPrecisionAsStep(v)\n        }, callback);\n      } else {\n        // always set input value same as value\n        this.setState({\n          inputValue: this.toPrecisionAsStep(this.$data.sValue)\n        }, callback);\n      }\n\n      if (changed) {\n        this.__emit('update:value', newValue);\n\n        this.__emit('change', newValue);\n      }\n\n      return newValue;\n    },\n    getPrecision: function getPrecision(value) {\n      if (isValidProps(this.precision)) {\n        return this.precision;\n      }\n\n      var valueString = value.toString();\n\n      if (valueString.indexOf('e-') >= 0) {\n        return parseInt(valueString.slice(valueString.indexOf('e-') + 2), 10);\n      }\n\n      var precision = 0;\n\n      if (valueString.indexOf('.') >= 0) {\n        precision = valueString.length - valueString.indexOf('.') - 1;\n      }\n\n      return precision;\n    },\n    // step={1.0} value={1.51}\n    // press +\n    // then value should be 2.51, rather than 2.5\n    // if this.$props.precision is undefined\n    // https://github.com/react-component/input-number/issues/39\n    getMaxPrecision: function getMaxPrecision(currentValue) {\n      var ratio = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n      if (isValidProps(this.precision)) {\n        return this.precision;\n      }\n\n      var step = this.step;\n      var ratioPrecision = this.getPrecision(ratio);\n      var stepPrecision = this.getPrecision(step);\n      var currentValuePrecision = this.getPrecision(currentValue);\n\n      if (!currentValue) {\n        return ratioPrecision + stepPrecision;\n      }\n\n      return Math.max(currentValuePrecision, ratioPrecision + stepPrecision);\n    },\n    getPrecisionFactor: function getPrecisionFactor(currentValue) {\n      var ratio = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var precision = this.getMaxPrecision(currentValue, ratio);\n      return Math.pow(10, precision);\n    },\n    getInputDisplayValue: function getInputDisplayValue(state) {\n      var _ref = state || this.$data,\n          focused = _ref.focused,\n          inputValue = _ref.inputValue,\n          sValue = _ref.sValue;\n\n      var inputDisplayValue;\n\n      if (focused) {\n        inputDisplayValue = inputValue;\n      } else {\n        inputDisplayValue = this.toPrecisionAsStep(sValue);\n      }\n\n      if (inputDisplayValue === undefined || inputDisplayValue === null) {\n        inputDisplayValue = '';\n      }\n\n      var inputDisplayValueFormat = this.formatWrapper(inputDisplayValue);\n\n      if (isValidProps(this.$props.decimalSeparator)) {\n        inputDisplayValueFormat = inputDisplayValueFormat.toString().replace('.', this.$props.decimalSeparator);\n      }\n\n      return inputDisplayValueFormat;\n    },\n    recordCursorPosition: function recordCursorPosition() {\n      // Record position\n      try {\n        var inputElem = this.inputRef;\n        this.cursorStart = inputElem.selectionStart;\n        this.cursorEnd = inputElem.selectionEnd;\n        this.currentValue = inputElem.value;\n        this.cursorBefore = inputElem.value.substring(0, this.cursorStart);\n        this.cursorAfter = inputElem.value.substring(this.cursorEnd);\n      } catch (e) {// Fix error in Chrome:\n        // Failed to read the 'selectionStart' property from 'HTMLInputElement'\n        // http://stackoverflow.com/q/21177489/3040605\n      }\n    },\n    fixCaret: function fixCaret(start, end) {\n      if (start === undefined || end === undefined || !this.inputRef || !this.inputRef.value) {\n        return;\n      }\n\n      try {\n        var inputElem = this.inputRef;\n        var currentStart = inputElem.selectionStart;\n        var currentEnd = inputElem.selectionEnd;\n\n        if (start !== currentStart || end !== currentEnd) {\n          inputElem.setSelectionRange(start, end);\n        }\n      } catch (e) {// Fix error in Chrome:\n        // Failed to read the 'selectionStart' property from 'HTMLInputElement'\n        // http://stackoverflow.com/q/21177489/3040605\n      }\n    },\n    restoreByAfter: function restoreByAfter(str) {\n      if (str === undefined) return false;\n      var fullStr = this.inputRef.value;\n      var index = fullStr.lastIndexOf(str);\n      if (index === -1) return false;\n      var prevCursorPos = this.cursorBefore.length;\n\n      if (this.lastKeyCode === KeyCode.DELETE && this.cursorBefore.charAt(prevCursorPos - 1) === str[0]) {\n        this.fixCaret(prevCursorPos, prevCursorPos);\n        return true;\n      }\n\n      if (index + str.length === fullStr.length) {\n        this.fixCaret(index, index);\n        return true;\n      }\n\n      return false;\n    },\n    partRestoreByAfter: function partRestoreByAfter(str) {\n      var _this3 = this;\n\n      if (str === undefined) return false; // For loop from full str to the str with last char to map. e.g. 123\n      // -> 123\n      // -> 23\n      // -> 3\n\n      return Array.prototype.some.call(str, function (_, start) {\n        var partStr = str.substring(start);\n        return _this3.restoreByAfter(partStr);\n      });\n    },\n    focus: function focus() {\n      this.inputRef.focus();\n      this.recordCursorPosition();\n    },\n    blur: function blur() {\n      this.inputRef.blur();\n    },\n    formatWrapper: function formatWrapper(num) {\n      // http://2ality.com/2012/03/signedzero.html\n      // https://github.com/ant-design/ant-design/issues/9439\n      if (this.formatter) {\n        return this.formatter(num);\n      }\n\n      return num;\n    },\n    toPrecisionAsStep: function toPrecisionAsStep(num) {\n      if (this.isNotCompleteNumber(num) || num === '') {\n        return num;\n      }\n\n      var precision = Math.abs(this.getMaxPrecision(num));\n\n      if (!isNaN(precision)) {\n        return Number(num).toFixed(precision);\n      }\n\n      return num.toString();\n    },\n    // '1.' '1x' 'xx' '' => are not complete numbers\n    isNotCompleteNumber: function isNotCompleteNumber(num) {\n      return isNaN(num) || num === '' || num === null || num && num.toString().indexOf('.') === num.toString().length - 1;\n    },\n    toNumber: function toNumber(num) {\n      var _this$$props2 = this.$props,\n          precision = _this$$props2.precision,\n          autofocus = _this$$props2.autofocus;\n      var _this$$data$focused = this.$data.focused,\n          focused = _this$$data$focused === void 0 ? autofocus : _this$$data$focused; // num.length > 16 => This is to prevent input of large numbers\n\n      var numberIsTooLarge = num && num.length > 16 && focused;\n\n      if (this.isNotCompleteNumber(num) || numberIsTooLarge) {\n        return num;\n      }\n\n      if (isValidProps(precision)) {\n        return Math.round(num * Math.pow(10, precision)) / Math.pow(10, precision);\n      }\n\n      return Number(num);\n    },\n    upStep: function upStep(val, rat) {\n      var step = this.step;\n      var precisionFactor = this.getPrecisionFactor(val, rat);\n      var precision = Math.abs(this.getMaxPrecision(val, rat));\n      var result = ((precisionFactor * val + precisionFactor * step * rat) / precisionFactor).toFixed(precision);\n      return this.toNumber(result);\n    },\n    downStep: function downStep(val, rat) {\n      var step = this.step;\n      var precisionFactor = this.getPrecisionFactor(val, rat);\n      var precision = Math.abs(this.getMaxPrecision(val, rat));\n      var result = ((precisionFactor * val - precisionFactor * step * rat) / precisionFactor).toFixed(precision);\n      return this.toNumber(result);\n    },\n    stepFn: function stepFn(type, e) {\n      var _this4 = this;\n\n      var ratio = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n      var recursive = arguments.length > 3 ? arguments[3] : undefined;\n      this.stop();\n\n      if (e) {\n        // e.persist()\n        e.preventDefault();\n      }\n\n      if (this.disabled) {\n        return;\n      }\n\n      var max = this.max,\n          min = this.min;\n      var value = this.getCurrentValidValue(this.$data.inputValue) || 0;\n\n      if (this.isNotCompleteNumber(value)) {\n        return;\n      }\n\n      var val = this[\"\".concat(type, \"Step\")](value, ratio);\n      var outOfRange = val > max || val < min;\n\n      if (val > max) {\n        val = max;\n      } else if (val < min) {\n        val = min;\n      }\n\n      this.setValue(val);\n      this.setState({\n        focused: true\n      });\n\n      if (outOfRange) {\n        return;\n      }\n\n      this.autoStepTimer = setTimeout(function () {\n        _this4[type](e, ratio, true);\n      }, recursive ? SPEED : DELAY);\n    },\n    stop: function stop() {\n      if (this.autoStepTimer) {\n        clearTimeout(this.autoStepTimer);\n      }\n    },\n    down: function down(e, ratio, recursive) {\n      this.pressingUpOrDown = true;\n      this.stepFn('down', e, ratio, recursive);\n    },\n    up: function up(e, ratio, recursive) {\n      this.pressingUpOrDown = true;\n      this.stepFn('up', e, ratio, recursive);\n    },\n    handleInputClick: function handleInputClick() {\n      this.__emit('click');\n    },\n    saveUp: function saveUp(node) {\n      this.upHandlerRef = node;\n    },\n    saveDown: function saveDown(node) {\n      this.downHandlerRef = node;\n    },\n    saveInput: function saveInput(node) {\n      this.inputRef = node;\n    },\n    onCompositionstart: function onCompositionstart(e) {\n      e.target.composing = true;\n    },\n    onCompositionend: function onCompositionend(e) {\n      this.onChange(e);\n      e.target.composing = false;\n    }\n  },\n  render: function render() {\n    var _classNames;\n\n    var props = _extends(_extends({}, this.$props), this.$attrs);\n\n    var prefixCls = props.prefixCls,\n        disabled = props.disabled,\n        readonly = props.readonly,\n        useTouch = props.useTouch,\n        autocomplete = props.autocomplete,\n        upHandler = props.upHandler,\n        downHandler = props.downHandler,\n        className = props.class;\n    var classes = classNames((_classNames = {}, _defineProperty(_classNames, className, className), _defineProperty(_classNames, prefixCls, true), _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(prefixCls, \"-focused\"), this.$data.focused), _classNames));\n    var upDisabledClass = '';\n    var downDisabledClass = '';\n    var sValue = this.$data.sValue;\n\n    if (sValue || sValue === 0) {\n      if (!isNaN(sValue)) {\n        var val = Number(sValue);\n\n        if (val >= this.max) {\n          upDisabledClass = \"\".concat(prefixCls, \"-handler-up-disabled\");\n        }\n\n        if (val <= this.min) {\n          downDisabledClass = \"\".concat(prefixCls, \"-handler-down-disabled\");\n        }\n      } else {\n        upDisabledClass = \"\".concat(prefixCls, \"-handler-up-disabled\");\n        downDisabledClass = \"\".concat(prefixCls, \"-handler-down-disabled\");\n      }\n    }\n\n    var dataOrAriaAttributeProps = {};\n\n    for (var key in props) {\n      if (props.hasOwnProperty(key) && (key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role')) {\n        dataOrAriaAttributeProps[key] = props[key];\n      }\n    }\n\n    var editable = !this.readonly && !this.disabled; // focus state, show input value\n    // unfocus state, show valid value\n\n    var inputDisplayValue = this.getInputDisplayValue();\n    var upEvents;\n    var downEvents;\n\n    if (useTouch) {\n      var _upEvents, _downEvents;\n\n      upEvents = (_upEvents = {}, _defineProperty(_upEvents, supportsPassive ? 'onTouchstartPassive' : 'onTouchstart', editable && !upDisabledClass && this.up), _defineProperty(_upEvents, \"onTouchend\", this.stop), _upEvents);\n      downEvents = (_downEvents = {}, _defineProperty(_downEvents, supportsPassive ? 'onTouchstartPassive' : 'onTouchstart', editable && !downDisabledClass && this.down), _defineProperty(_downEvents, \"onTouchend\", this.stop), _downEvents);\n    } else {\n      upEvents = {\n        onMousedown: editable && !upDisabledClass && this.up,\n        onMouseup: this.stop,\n        onMouseleave: this.stop\n      };\n      downEvents = {\n        onMousedown: editable && !downDisabledClass && this.down,\n        onMouseup: this.stop,\n        onMouseleave: this.stop\n      };\n    }\n\n    var isUpDisabled = !!upDisabledClass || disabled || readonly;\n    var isDownDisabled = !!downDisabledClass || disabled || readonly;\n\n    var upHandlerProps = _extends(_extends({\n      disabled: isUpDisabled,\n      prefixCls: prefixCls,\n      unselectable: 'unselectable',\n      role: 'button',\n      'aria-label': 'Increase Value',\n      'aria-disabled': !!isUpDisabled,\n      class: \"\".concat(prefixCls, \"-handler \").concat(prefixCls, \"-handler-up \").concat(upDisabledClass)\n    }, upEvents), {\n      ref: this.saveUp\n    });\n\n    var downHandlerProps = _extends(_extends({\n      disabled: isDownDisabled,\n      prefixCls: prefixCls,\n      unselectable: 'unselectable',\n      role: 'button',\n      'aria-label': 'Decrease Value',\n      'aria-disabled': !!isDownDisabled,\n      class: \"\".concat(prefixCls, \"-handler \").concat(prefixCls, \"-handler-down \").concat(downDisabledClass)\n    }, downEvents), {\n      ref: this.saveDown\n    });\n\n    return _createVNode(\"div\", {\n      \"class\": classes,\n      \"style\": props.style,\n      \"title\": props.title,\n      \"onMouseenter\": props.onMouseenter,\n      \"onMouseleave\": props.onMouseleave,\n      \"onMouseover\": props.onMouseover,\n      \"onMouseout\": props.onMouseout\n    }, [_createVNode(\"div\", {\n      \"class\": \"\".concat(prefixCls, \"-handler-wrap\")\n    }, [_createVNode(\"span\", null, [_createVNode(InputHandler, _objectSpread(_objectSpread({}, upHandlerProps), {}, {\n      \"key\": \"upHandler\"\n    }), {\n      default: function _default() {\n        return [upHandler || _createVNode(\"span\", {\n          \"unselectable\": \"unselectable\",\n          \"class\": \"\".concat(prefixCls, \"-handler-up-inner\"),\n          \"onClick\": preventDefault\n        }, null)];\n      }\n    })]), _createVNode(InputHandler, _objectSpread(_objectSpread({}, downHandlerProps), {}, {\n      \"key\": \"downHandler\"\n    }), {\n      default: function _default() {\n        return [downHandler || _createVNode(\"span\", {\n          \"unselectable\": \"unselectable\",\n          \"class\": \"\".concat(prefixCls, \"-handler-down-inner\"),\n          \"onClick\": preventDefault\n        }, null)];\n      }\n    })]), _createVNode(\"div\", {\n      \"class\": \"\".concat(prefixCls, \"-input-wrap\")\n    }, [_createVNode(\"input\", _objectSpread({\n      \"role\": \"spinbutton\",\n      \"aria-valuemin\": this.min,\n      \"aria-valuemax\": this.max,\n      \"aria-valuenow\": sValue,\n      \"required\": this.required,\n      \"type\": props.type,\n      \"placeholder\": this.placeholder,\n      \"onClick\": this.handleInputClick,\n      \"class\": \"\".concat(prefixCls, \"-input\"),\n      \"tabindex\": this.tabindex,\n      \"autocomplete\": autocomplete,\n      \"onFocus\": this.onFocus,\n      \"onBlur\": this.onBlur,\n      \"onKeydown\": editable && this.onKeyDown,\n      \"onKeyup\": editable && this.onKeyUp,\n      \"autofocus\": this.autofocus,\n      \"maxlength\": this.maxlength,\n      \"readonly\": this.readonly,\n      \"disabled\": this.disabled,\n      \"max\": this.max,\n      \"min\": this.min,\n      \"step\": this.step,\n      \"name\": this.name,\n      \"title\": this.title,\n      \"id\": this.id,\n      \"onInput\": this.onTrigger,\n      \"onCompositionstart\": this.onCompositionstart,\n      \"onCompositionend\": this.onCompositionend,\n      \"ref\": this.saveInput,\n      \"value\": inputDisplayValue,\n      \"pattern\": this.pattern\n    }, dataOrAriaAttributeProps), null)])]);\n  }\n});","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { defineComponent, inject, nextTick, onMounted, ref } from 'vue';\nimport PropTypes from '../_util/vue-types';\nimport { getOptionProps } from '../_util/props-util';\nimport classNames from '../_util/classNames';\nimport UpOutlined from '@ant-design/icons-vue/UpOutlined';\nimport DownOutlined from '@ant-design/icons-vue/DownOutlined';\nimport VcInputNumber from '../vc-input-number/src';\nimport { defaultConfigProvider } from '../config-provider';\nimport { tuple, withInstall } from '../_util/type';\nvar inputNumberProps = {\n  prefixCls: PropTypes.string,\n  min: PropTypes.number,\n  max: PropTypes.number,\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  step: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).def(1),\n  defaultValue: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  tabindex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  disabled: PropTypes.looseBool,\n  size: PropTypes.oneOf(tuple('large', 'small', 'default')),\n  formatter: PropTypes.func,\n  parser: PropTypes.func,\n  decimalSeparator: PropTypes.string,\n  placeholder: PropTypes.string,\n  name: PropTypes.string,\n  id: PropTypes.string,\n  precision: PropTypes.number,\n  autofocus: PropTypes.looseBool,\n  onPressEnter: {\n    type: Function\n  },\n  onChange: Function\n};\nvar InputNumber = defineComponent({\n  name: 'AInputNumber',\n  inheritAttrs: false,\n  props: inputNumberProps,\n  setup: function setup(props) {\n    var inputNumberRef = ref(null);\n\n    var focus = function focus() {\n      inputNumberRef.value.focus();\n    };\n\n    var blur = function blur() {\n      inputNumberRef.value.blur();\n    };\n\n    onMounted(function () {\n      nextTick(function () {\n        if (process.env.NODE_ENV === 'test') {\n          if (props.autofocus && !props.disabled) {\n            focus();\n          }\n        }\n      });\n    });\n    return {\n      configProvider: inject('configProvider', defaultConfigProvider),\n      inputNumberRef: inputNumberRef,\n      focus: focus,\n      blur: blur\n    };\n  },\n  render: function render() {\n    var _classNames;\n\n    var _a = _extends(_extends({}, getOptionProps(this)), this.$attrs),\n        customizePrefixCls = _a.prefixCls,\n        size = _a.size,\n        className = _a.class,\n        others = __rest(_a, [\"prefixCls\", \"size\", \"class\"]);\n\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('input-number', customizePrefixCls);\n    var inputNumberClass = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-lg\"), size === 'large'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-sm\"), size === 'small'), _classNames), className);\n\n    var upIcon = _createVNode(UpOutlined, {\n      \"class\": \"\".concat(prefixCls, \"-handler-up-inner\")\n    }, null);\n\n    var downIcon = _createVNode(DownOutlined, {\n      \"class\": \"\".concat(prefixCls, \"-handler-down-inner\")\n    }, null);\n\n    var vcInputNumberProps = _extends(_extends({\n      prefixCls: prefixCls,\n      upHandler: upIcon,\n      downHandler: downIcon\n    }, others), {\n      class: inputNumberClass\n    });\n\n    return _createVNode(VcInputNumber, _objectSpread(_objectSpread({}, vcInputNumberProps), {}, {\n      \"ref\": \"inputNumberRef\"\n    }), null);\n  }\n});\nexport default withInstall(InputNumber);","// This icon file is generated automatically.\nvar EditOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z\" } }] }, \"name\": \"edit\", \"theme\": \"outlined\" };\nexport default EditOutlined;\n","import * as _vue from \"vue\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport EditOutlinedSvg from \"@ant-design/icons-svg/es/asn/EditOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar EditOutlined = function EditOutlined(props, context) {\n  var p = _objectSpread({}, props, context.attrs);\n\n  return _vue.createVNode(AntdIcon, _vue.mergeProps(p, {\n    \"icon\": EditOutlinedSvg\n  }), null);\n};\n\nEditOutlined.displayName = 'EditOutlined';\nEditOutlined.inheritAttrs = false;\nexport default EditOutlined;","\nimport { EditOutlined } from \"@ant-design/icons-vue\";\nimport {AddListenerAPI} from '@/api/listener';\nimport {InputNumber} from 'ant-design-vue'\nimport { ref, defineComponent,reactive, toRaw, UnwrapRef  } from \"vue\";\nimport {Listener} from '@/typings/listener'\n\nexport default defineComponent({\n  components: {\n    EditOutlined,\n    InputNumber,\n  },\n  emits:['refresh-data-list'],\n  setup(context) {\n    const modalText = ref<string>(\"Content of the modal\");\n    const visible = ref<boolean>(false);\n    const confirmLoading = ref<boolean>(false);\n\n    const formState: UnwrapRef<Listener> = reactive({\n      name: '',\n      lhost:'0.0.0.0',\n      lport:0,\n    });\n\n    const showModal = () => {\n      visible.value = true;\n    };\n\n    return {\n      modalText,\n      visible,\n      confirmLoading,\n      formState,\n      showModal,\n    };\n  },\n  methods:{\n    handleSumbit:async function (){\n      this.confirmLoading = true;\n      const res = await AddListenerAPI(this.formState)\n      console.log(res)\n      if (res){\n        this.visible = false;\n        this.$emit('refresh-data-list');\n      }\n      this.confirmLoading = false;\n    }\n  }\n});\n","import { render } from \"./AddListenerModal.vue?vue&type=template&id=e76eae7a\"\nimport script from \"./AddListenerModal.vue?vue&type=script&lang=ts\"\nexport * from \"./AddListenerModal.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <a-table :columns=\"columns\" :data-source=\"listenerList\">\n    <template #name=\"{ text }\">\n      <a>{{ text }}</a>\n    </template>\n    <template #customTitle>\n      <span>\n        Name\n      </span>\n    </template>\n    <template #tags=\"{ text: tags }\">\n      <span>\n        <a-tag\n          v-for=\"tag in tags\"\n          :key=\"tag\"\n          :color=\"\n            tag === 'Offline'\n              ? 'volcano'\n              : tag.length > 5\n              ? 'geekblue'\n              : 'green'\n          \"\n        >\n          {{ tag.toUpperCase() }}\n        </a-tag>\n      </span>\n    </template>\n    <template #action=\"{ record }\">\n      <span>\n        <a>Gen Payload for {{ record.name }}</a>\n        <a-divider type=\"vertical\" />\n        <a>Delete</a>\n        <a-divider type=\"vertical\" />\n        <a class=\"ant-dropdown-link\">\n          More actions\n          <down-outlined />\n        </a>\n      </span>\n    </template>\n  </a-table>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent,PropType } from \"vue\";\nimport {Listener} from '@/typings/listener';\nconst columns = [\n  {\n    dataIndex: \"name\",\n    key: \"name\",\n    slots: { title: \"customTitle\", customRender: \"name\" },\n  },\n  {\n    title: \"Address\",\n    dataIndex: \"address\",\n    key: \"address\",\n  },\n  {\n    title: \"Status\",\n    key: \"tags\",\n    dataIndex: \"tags\",\n    slots: { customRender: \"tags\" },\n  },\n  {\n    title: \"Action\",\n    key: \"action\",\n    slots: { customRender: \"action\" },\n  },\n];\n\n\nexport default defineComponent({\n  props: {\n    listenerList: {\n      type: Array as PropType<Listener[]>,\n      required: true,\n    },\n  },\n  setup(prop) {\n    const genPayload = (address:string):string=>{\n      const host = address.split(\":\")[0]\n      const port = address.split(\":\")[1]\n      const url = new URL(`/gen/${host}/${port}`, window.location.href);\n      return url.href;\n    }\n\n    return {\n      columns\n    };\n  },\n});\n</script>\n\n<style>\n</style>","\nimport { defineComponent,PropType } from \"vue\";\nimport {Listener} from '@/typings/listener';\nconst columns = [\n  {\n    dataIndex: \"name\",\n    key: \"name\",\n    slots: { title: \"customTitle\", customRender: \"name\" },\n  },\n  {\n    title: \"Address\",\n    dataIndex: \"address\",\n    key: \"address\",\n  },\n  {\n    title: \"Status\",\n    key: \"tags\",\n    dataIndex: \"tags\",\n    slots: { customRender: \"tags\" },\n  },\n  {\n    title: \"Action\",\n    key: \"action\",\n    slots: { customRender: \"action\" },\n  },\n];\n\n\nexport default defineComponent({\n  props: {\n    listenerList: {\n      type: Array as PropType<Listener[]>,\n      required: true,\n    },\n  },\n  setup(prop) {\n    const genPayload = (address:string):string=>{\n      const host = address.split(\":\")[0]\n      const port = address.split(\":\")[1]\n      const url = new URL(`/gen/${host}/${port}`, window.location.href);\n      return url.href;\n    }\n\n    return {\n      columns\n    };\n  },\n});\n","import { render } from \"./ListenerTable.vue?vue&type=template&id=defac0da\"\nimport script from \"./ListenerTable.vue?vue&type=script&lang=ts\"\nexport * from \"./ListenerTable.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport {\n  SettingOutlined,\n  EllipsisOutlined,\n  MailOutlined,\n} from \"@ant-design/icons-vue\";\nimport { defineComponent, onMounted, ref, watch } from \"vue\";\nimport { GetListenerListAPI } from \"@/api/listener\";\nimport { GetBeaconListAPI} from '@/api/beacon';\nimport Terminal from \"@/components/listener/Terminal.vue\";\nimport AddListenerModal from \"./AddListenerModal.vue\";\nimport { Beacon } from '@/typings/beacon';\nimport {useStore} from '@/store';\nimport { WSDataType } from \"@/typings/billboard\";\nimport ListenerTable from './ListenerTable.vue';\n\ninterface TableListenerI {\n  name: string;\n  address: string;\n  tags: string[];\n}\n\nexport default defineComponent({\n  components: {\n    Terminal,\n    SettingOutlined,\n    EllipsisOutlined,\n    MailOutlined,\n    AddListenerModal,\n    ListenerTable,\n  },\n  setup() {\n    const store = useStore();\n\n    const currentLisenterName = ref<string[]>([\"a\"]);\n    const listenerList = ref<TableListenerI[]>([]);\n    const beaconList = ref<Beacon[]>([]);\n    const currentBeaconTargetUrl = ref<string>(\"\");\n\n    const genListenerList = async () => {\n      const res = await GetListenerListAPI();\n      console.log(res);\n      listenerList.value = []\n      if (res) {\n        const data = res.data.data;\n        if(data){\n          data.forEach((listener) => {\n            listenerList.value.push({\n              name: listener.name,\n              address: `${listener.lhost}:${listener.lport}`,\n              tags: [listener.closed ? \"Offline\" : \"Online\"],\n            });\n          });\n        }\n      }\n    };\n\n    watch(\n      () => store.state.billboard.incommingWSData,\n      (newVal, oldVal) => {\n        console.log(`received ${newVal}`);\n        if (newVal?.type === WSDataType.BEACON) {\n          genBeaconList()\n        }\n      }\n    );\n\n    const genBeaconList = async () => {\n      const res = await GetBeaconListAPI();\n      console.log(res);\n      beaconList.value = []\n      if (res) {\n        const data = res.data.data;\n        if(data){\n          data.forEach((beacon) => {\n            beaconList.value.push({\n              name: beacon.name,\n              uuid: beacon.uuid,\n            });\n          });\n        }\n      }\n    };\n\n\n    const beaconBtnHandler = (beaconName: string) => {\n      console.log(\"beaconBtnHandler \", beaconName);\n      const url = new URL('/api/v1/beacon/ws/', window.location.href);\n      url.protocol = url.protocol.replace('http', 'ws');\n      currentBeaconTargetUrl.value = `${url.href}?name=${beaconName}`;\n    };\n\n    onMounted(() => {\n      genListenerList();\n      genBeaconList();\n    });\n\n    return {\n      listenerList,\n      beaconList,\n      currentLisenterName,\n      currentBeaconTargetUrl,\n      beaconBtnHandler,\n      genListenerList,\n    };\n  },\n});\n","import { render } from \"./Index.vue?vue&type=template&id=3daf4eb4&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=ts\"\nexport * from \"./Index.vue?vue&type=script&lang=ts\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=3daf4eb4&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-3daf4eb4\"\n\nexport default script"],"sourceRoot":""}